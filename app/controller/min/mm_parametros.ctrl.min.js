var app=angular.module("app",[]);app.controller("MainController",["$scope","$http",function(a,e){function r(){empresa=$("#comite_empresa").val(),e.post("modulos/modEmpresa.php?op=r",{op:"r",empresa_id:empresa}).success(function(e,r){a.registrsoXpagina=e[0].registrsoXpagina,a.empresa_id=e[0].empresa_id,a.diasTrabaja=e[0].diasTrabaja,a.horarioInicio=e[0].horarioInicio,a.horarioTermina=e[0].horarioTermina,a.intervaloCalendario=e[0].intervaloCalendario,a.empresa_telefonos=e[0].empresa_telefonos,a.empresa_ciudad=e[0].empresa_ciudad,a.empresa_logo=e[0].empresa_logo,a.empresa_autentica=e[0].empresa_autentica,a.empresa_lenguaje=e[0].empresa_lenguaje,a.empresa_clave=e[0].empresa_clave,a.empresa_versionPrd=e[0].empresa_versionPrd,a.empresa_versionDB=e[0].empresa_versionBd,"M"===e[0].empresa_autentica&&(a.autenticaM=!0),"U"===e[0].empresa_autentica&&(a.autenticaU=!0)})}a.form_btnNuevo="Nuevo",a.form_btnActualiza="Actualizar",a.lenguajes=["ESP","ING","FRC","OTR"],a.txtEmail=" Por correo",a.txtUsuario=" Por usuario",a.txtCelular=" Por celular",a.from_title="Parámetros del sistema",a.from_btnNuevo="Nuevo",a.from_btnActualiza="Actualizar",a.form_registrsoXpagina="Registros en grilla",a.form_diasTrabaja="Dias laborales",a.form_horarioInicio="Inicia labores",a.form_horarioTermina="Finaliza labores",a.form_intervaloCalendario="intervalo horario",a.form_PhregistrsoXpagina="Nr registros en la grilla",a.form_PhdiasTrabaja="lu-ma-mi-ju-vi-sa-do",a.form_PhhorarioInicio="hora inicial",a.form_PhhorarioTermina="hora final",a.form_PhintervaloCalendario="1 o 1/2 hora",a.empresa_id="",a.registrsoXpagina="",a.diasTrabaja="",a.horarioInicio="",a.horarioTermina="",a.intervaloCalendario="",r(),a.btnSend=function(){er="",""===a.registrsoXpagina&&(er+="falta nombre\n"),""===a.diasTrabaja&&(er+="falta nit\n"),""===a.horarioTermina&&(er+="falta email\n"),""===a.intervaloCalendario&&(er+="falta Dirección\n"),""===a.empresa_telefonos&&(er+="falta teléfono\n"),""===a.empresa_ciudad&&(er+="falta la ciudad\n"),""===a.empresa_clave&&(er+="falta una clave\n"),""===a.empresa_versionPrd&&(er+="falta la verdion de la aplicación\n"),""===a.empresa_versionDB&&(er+="falta la versión de la base de datos\n"),""==er?(a.empresa_autentica="M",!0===a.autenticaU&&(a.empresa_autentica="U"),e.post("modulos/modEmpresa.php?op=a",{op:"a",empresa_id:a.empresa_id,registrsoXpagina:a.registrsoXpagina,diasTrabaja:a.diasTrabaja,horarioInicio:a.horarioInicio,horarioTermina:a.horarioTermina,intervaloCalendario:a.intervaloCalendario,empresa_telefonos:a.empresa_telefonos,empresa_ciudad:a.empresa_ciudad,empresa_logo:a.empresa_logo,empresa_autentica:a.empresa_autentica,empresa_lenguaje:a.empresa_lenguaje,empresa_clave:a.empresa_clave,empresa_versionPrd:a.empresa_versionPrd,empresa_versionDB:a.empresa_versionDB}).success(function(a){"Ok"===a&&(r(),alert("Registro Actualizado "))})):alert(er)}}]);